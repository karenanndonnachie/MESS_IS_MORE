<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- PLEASE NO CHANGES BELOW THIS LINE (UNTIL I SAY SO) -->
<!--  <script language="javascript" type="text/javascript" src="libraries/p5.min.js"></script>
  <script language="javascript" type="text/javascript" src="libraries/p5.sound.min.js"></script>
  <script language="javascript" type="text/javascript" src="lookatwhatiamsaying.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
  OK, YOU CAN MAKE CHANGES BELOW THIS LINE AGAIN -->
  
  


  <!-- This line removes any default padding and style.
       You might only need one of these values set. -->
  <style> body { padding: 0; margin: 0; }  
  canvas{position:absolute;top:0;left:0;z-index:10;}
  button{z-index:11;}
  #vidcontainer{width:100vw;height:100vh;overflow:hidden;}
  #video{width:100%;height:auto;overflow:hidden;}
  </style>


</head>

<body>
  <button id="startBtn">Start</button>
  
<div>
  <div id="vidcontainer" ><button id="startBtn">start</button>
<!-- The video -->
<video id="video" autoplay="true"></video>
</div>
</div>
<script>
const startBtn = document.getElementById('startBtn');
startBtn.onclick = async () => {
  try {
    startBtn.disabled = true;
    const constraints = {
      audio: true,
      video: true
    };

    const stream = await navigator.mediaDevices.getUserMedia(constraints);

    for (const track of stream.getTracks()) {
      track.onended = () => {
        startBtn.disabled = stream.getTracks().some((t) => t.readyState == 'live');
      };
    }
  } catch (err) {
    console.error(err);
  }
};
</script>
</body>
</html>
